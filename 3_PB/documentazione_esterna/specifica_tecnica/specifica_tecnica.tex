\documentclass[italian,12pt]{article} %tipo di documento

\input{variables}
\input{packages}
\input{subX6_section}

\linespread{1.2}
\captionsetup[table]{name=Tabella}
\captionsetup[figure]{name=Figura}
\geometry{headsep=1.5cm}

\renewcommand{\contentsname}{Indice}
\renewcommand\familydefault{\sfdefault}

\renewcommand{\listtablename}{Indice delle tabelle}
\renewcommand\familydefault{\sfdefault}

\renewcommand{\listfigurename}{Indice delle immagini}
\renewcommand\familydefault{\sfdefault}

\renewcommand{\lstlistlistingname}{Indice dei listati}

\let\oldthepage\thepage
\renewcommand{\thepage}{\sffamily\oldthepage}

\definecolor{eclipseStrings}{RGB}{42,0.0,255}
\definecolor{eclipseKeywords}{RGB}{127,0,85}
\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{FFFFFF}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    showstringspaces=false,
    breaklines=true,
    backgroundcolor=\color{background},
    commentstyle=\color{eclipseStrings},
    stringstyle=\color{eclipseKeywords},
    string=[s]{"}{"},
    comment=[l]{:\ "},
    morecomment=[l]{:"},
    literate=
        *{0}{{{\color{numb}0}}}{1}
         {1}{{{\color{numb}1}}}{1}
         {2}{{{\color{numb}2}}}{1}
         {3}{{{\color{numb}3}}}{1}
         {4}{{{\color{numb}4}}}{1}
         {5}{{{\color{numb}5}}}{1}
         {6}{{{\color{numb}6}}}{1}
         {7}{{{\color{numb}7}}}{1}
         {8}{{{\color{numb}8}}}{1}
         {9}{{{\color{numb}9}}}{1}
}

\newcommand\JSONnumbervaluestyle{\color{blue}}
\newcommand\JSONstringvaluestyle{\color{red}}

% switch used as state variable
\newif\ifcolonfoundonthisline

\makeatletter

\lstdefinestyle{json}
{
  showstringspaces    = false,
  keywords            = {false,true},
  alsoletter          = 0123456789.,
  morestring          = [s]{"}{"},
  stringstyle         = \ifcolonfoundonthisline\JSONstringvaluestyle\fi,
  MoreSelectCharTable =%
    \lst@DefSaveDef{`:}\colon@json{\processColon@json},
  basicstyle          = \ttfamily,
  keywordstyle        = \ttfamily\bfseries,
}

% flip the switch if a colon is found in Pmode
\newcommand\processColon@json{%
  \colon@json%
  \ifnum\lst@mode=\lst@Pmode%
    \global\colonfoundonthislinetrue%
  \fi
}

\lst@AddToHook{Output}{%
  \ifcolonfoundonthisline%
    \ifnum\lst@mode=\lst@Pmode%
      \def\lst@thestyle{\JSONnumbervaluestyle}%
    \fi
  \fi
  %override by keyword style if a keyword is detected!
  \lsthk@DetectKeywords% 
}

% reset the switch at the end of line
\lst@AddToHook{EOL}%
  {\global\colonfoundonthislinefalse}
\makeatother

%-------------------INIZIO DOCUMENTO--------------
\begin{document}

\include{title}

\newpage

\include{header}

%-----------tabella revisioni-----------%
\begin{table}[!h]
	\caption*{Versioni}
	\begin{center}
		\begin{tabular}{ l l l l l }
			\hline                                                                             \\[-2ex]
			Ver. & Data       & Autore        & Verificatore & Descrizione                     \\
			\hline                                                                             \\[-1.5ex]
			0.1  & 02/06/2024 & Matteo Tiozzo &              & Stesura struttura del documento \\
			\\[-1.5ex] \hline
		\end{tabular}
	\end{center}
\end{table}
%---------------------------------------%

\newpage

\tableofcontents

\newpage

\listoftables

\listoffigures

\lstlistoflistings

\newpage


\input{introduzione.tex}

\newpage

\input{tecnologie.tex}

\newpage

\input{architettura_sistema.tex}

\newpage

\input{architettura_deployment.tex}

\newpage

\input{stato_requisiti.tex}

\end{document}
